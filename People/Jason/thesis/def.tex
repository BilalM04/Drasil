% JUDGMENTS
\newcommand{\newrule}[2]{\begin{equation} \infer{#2}{#1} \end{equation}} % Adds to automatically numbered equations
\newcommand{\newlblrule}[3]{\begin{equation} \infer{#2}{#1} \label{#3}\end{equation}} % Adds to automatically numbered equations, with a label
\newcommand{\exampleRule}[2]{\[ \infer{#2}{#1} \]} % Does not add a number to equations

\newcommand{\Tau}{\mathrm{T}}
\newcommand{\ty}[1]{\texttt{#1} : \tau}

\newcommand{\ofTy}[2]{#1 : \texttt{#2}}

\newcommand{\numericTy}[1]{\ofTy{#1}{\texttt{Numerics($\Tau$)}}}
\newcommand{\negNumericTy}[1]{\ofTy{#1}{\texttt{NumericsWithNegation($\Tau$)}}}

\newcommand{\bb}[1]{\mathbb{#1}}

% SYNTAX CHARTS
\newcommand{\startSyntaxTable}{\begin{tabular}{ r c c l c l }}
\newcommand{\newsyntaxRow}[5]{#1 & \( #2 \) & $::=$ & \texttt{#3} & $#4$ & #5 \\}
\newcommand{\syntaxRow}[3]{& & $\vert$ & \texttt{#1} & $#2$ & #3 \\}
\newcommand{\closeSyntaxTable}{\end{tabular}}

% Portable HREFs
\newcommand{\porthref}[2]{\href{#2}{#1\footnote{\url{#2}}}}
\newcommand{\porthreft}[3]{\href{#3}{#1\footnote{\href{#3}{#2}}}}
\newcommand{\porthreftm}[2]{\href{#2}{#1\footnotemark}}

% Inlined TODOs
\newcommand{\intodo}[1]{\todo[inline]{#1}}

% Haskell snippet
\newenvironment{code}{\captionsetup{type=listing,skip=14pt}}{}
\SetupFloatingEnvironment{listing}{name=Source Code,listname=List of Source Codes}
\newenvironment{haskell}[4]
    {\VerbatimEnvironment\begin{code}\captionof{listing}{\protect\porthreftm{#1}{#4}}\footnotetext{#3}\label{lst:#2}\begin{minted}[frame=lines,framerule=2pt]{haskell}}
    {\end{minted}\end{code}}

% Haskell env original caption style: {\VerbatimEnvironment\begin{code}\caption[#1]{\protect\porthreftm{#1}{#4}}\footnotetext{#3}\label{lst:#2}\begin{minted}[frame=lines,framerule=2pt]{haskell}}

% TODO: Figure out how I can properly space the label between "Source Code X.X:
% X" and the minted code itself. "\vspace*{-3mm}" barely works, and doesn't
% really solve the real problem here.


% TODO: If I want to wrap "#3" in a \url{#3}, it causes a weird LaTeX error that
%       I just can't figure out at the moment. It seems what I'm trying to do
%       with this verbatim environment is 'bad'.

