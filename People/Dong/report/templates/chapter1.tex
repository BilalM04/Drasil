\chapter{ODE Data Represent}
In general, a equation contains a left hand expression, a right hand expression, and a equal sign. The left hand expression and the right hand expression connect with each other by equal sign. We can write a linger ODE in a shape of

\begin{equation} \label{eq_matrixform}
	\boldsymbol{Ax} = \boldsymbol{b}
\end{equation}

On the left hand side, A is a known m * n matrix and b is an m-vector. On the right hand side x is an n-vector. The A is commonly know as coefficient matrix, b is the constant vector, and x is the unknown vector.

\begin{equation} \label{eq_odeexmaple}
	y_t'' + (1 + K_d)y_t' + (20 + K_p)y_t = r_t K_p
\end{equation}

To take an example, in above equation, \[y_t\] is the dependent variable, and \[K_d, K_p, r_t\] are constant variables. We can write this equation in a form of (matrix form~\ref{eq_matrixform})

\[
\begin{bmatrix}
    1, & 1 + K_{d}, & 20 + K_{p}
\end{bmatrix}
\cdot
\begin{bmatrix}
    y_{t}''  \\
    y_{t}'   \\
    y_{t}  
\end{bmatrix}
=
\begin{bmatrix}
    r_{t} K_{p} 
\end{bmatrix}
\]

Base on this analysis, we decide to create a datatype \textbf{called} \verb|DifferentialModel| to capture the ODE knowledge. The \verb|DifferentialModel| consists of the independent variable, the dependent variable, the coefficient matrix, the unknown vector, the constant vector, and its meta data.

\begin{lstlisting}[language=HaskellUlisses]
data DifferentialModel = SystemOfLinearODEs {
	_indepVar :: UnitalChunk,
	_depVar :: ConstrConcept,
	_coefficients :: [[Expr]],
	_unknowns :: [Unknown],
	_dmConstants :: [Expr],
	_dmconc :: ConceptChunk
}
\end{lstlisting}

\setlength\LTcapwidth{\linewidth}
\begin{table}
	\begin{tabular}{ p{0.2\textwidth} p{0.7\textwidth} }
		\textbf{Variable} & \textbf{Semantics} \\
		\toprule
		\verb|_indepVar| & represent the independent variable in ODE, and it is usually time. UnitalChunk is a Quantity(concept with a symbolic representation) with a Unit\\
		\verb|_depVar| & represent the dependent variable in ODE \\
		\verb|_coefficients| & represent the coefficient of the ODE, it is A in (matrix form~\ref{eq_matrixform}). A list of lists represent a matrix. \verb|Expr| is a type encode mathematical expression. \\
		\verb|_unknowns| & represent the unknown vector, it is x in (matrix form~\ref{eq_matrixform}). The \verb|Unknown| is synonym of Integer, it indicates nth order of derivative of the dependent variable \\
		\verb|_dmConstants| & represent the constant vector, it is b in (matrix form~\ref{eq_matrixform}). It is a list of \verb|Expr| \\
		\verb|_dmconc| &  ConceptChunk records a concept !!citation in here!! \\

		\bottomrule	
	\end{tabular}	
	\caption{A sample table}	
	\label{tab_sample}
\end{table}

%% Matrix
% \[
% \begin{bmatrix}
%     x_{11}       & x_{12} & x_{13} & \dots & x_{1n} \\
%     x_{21}       & x_{22} & x_{23} & \dots & x_{2n} \\
%     \hdotsfor{5} \\
%     x_{d1}       & x_{d2} & x_{d3} & \dots & x_{dn}
% \end{bmatrix}
% =
% \begin{bmatrix}
%     x_{11} & x_{12} & x_{13} & \dots  & x_{1n} \\
%     x_{21} & x_{22} & x_{23} & \dots  & x_{2n} \\
%     \vdots & \vdots & \vdots & \ddots & \vdots \\
%     x_{d1} & x_{d2} & x_{d3} & \dots  & x_{dn}
% \end{bmatrix}
% \]
